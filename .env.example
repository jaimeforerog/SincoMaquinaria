# ==========================================
# SincoMaquinaria - Environment Configuration
# ==========================================
# IMPORTANT: Copy this file to .env and fill in your actual values
# Never commit .env file to version control!

# ==========================================
# Database Configuration (PostgreSQL)
# ==========================================
POSTGRES_HOST=localhost
POSTGRES_USER=postgres
POSTGRES_PASSWORD=CHANGE_THIS_PASSWORD
POSTGRES_DB=SincoMaquinaria
POSTGRES_PORT=5432

# Full connection string (override if needed)
# Format: host=<host>;port=<port>;database=<db>;username=<user>;password=<password>
ConnectionStrings__DefaultConnection=host=localhost;port=5432;database=SincoMaquinaria;username=postgres;password=CHANGE_THIS_PASSWORD

# ==========================================
# JWT Authentication Configuration
# ==========================================
# CRITICAL: Generate a strong, random key for production!
# Minimum 32 characters recommended
# Use: openssl rand -base64 32
Jwt__Key=CHANGE_THIS_TO_A_STRONG_RANDOM_KEY_MINIMUM_32_CHARACTERS

Jwt__Issuer=SincoMaquinaria
Jwt__Audience=SincoMaquinariaApp
Jwt__ExpirationMinutes=480

# ==========================================
# ASP.NET Core Configuration
# ==========================================
ASPNETCORE_ENVIRONMENT=Development

# Development: Defaults to http://localhost:5000 and https://localhost:5001
# Docker: Use http://+:5000 for HTTP only (reverse proxy should handle HTTPS)
# Production: Use https://+:5001 (HTTPS only) with certificate
ASPNETCORE_URLS=http://localhost:5000;https://localhost:5001

# For Production HTTPS with certificate:
# ASPNETCORE_URLS=https://+:5001
# ASPNETCORE_Kestrel__Certificates__Default__Path=/path/to/cert.pfx
# ASPNETCORE_Kestrel__Certificates__Default__Password=cert_password

# For Docker (HTTP only, use reverse proxy for HTTPS):
# ASPNETCORE_URLS=http://+:5000

# ==========================================
# Security Settings
# ==========================================
Security__MaxFileUploadSizeMB=10
Security__EnableAdminEndpoints=false

# CORS Allowed Origins (comma-separated)
Security__AllowedOrigins__0=http://localhost:3000
Security__AllowedOrigins__1=http://localhost:5173
# Add production frontend URL:
# Security__AllowedOrigins__2=https://your-production-domain.com

# ==========================================
# Docker Configuration
# ==========================================
# Use these when running with docker-compose
COMPOSE_PROJECT_NAME=sincomaquinaria
DOCKER_REGISTRY=
DOCKER_TAG=latest

# ==========================================
# Logging Configuration
# ==========================================
Logging__LogLevel__Default=Information
Logging__LogLevel__Microsoft.AspNetCore=Warning
Logging__LogLevel__Marten=Information

# ==========================================
# Rate Limiting Configuration
# ==========================================
# Rate limiting is configured in appsettings.json
# Default limits:
# - General: 60 req/min, 300 req/15min, 1000 req/hour
# - /auth/login: 5 req/min, 10 req/15min
# - /auth/register: 3 req/hour
# - /auth/setup: 1 req/hour
# - /admin/*: 10 req/min

# ==========================================
# PRODUCTION NOTES
# ==========================================
# 1. Generate JWT key: openssl rand -base64 64
# 2. Use strong database password (20+ chars, mixed case, numbers, symbols)
# 3. Set ASPNETCORE_ENVIRONMENT=Production
# 4. Configure HTTPS with valid certificate
# 5. Update CORS origins to actual frontend domain
# 6. Set Security__EnableAdminEndpoints=false
# 7. Use Azure Key Vault or AWS Secrets Manager for secrets
# 8. Rotate JWT keys periodically
# 9. HTTPS redirect is automatically enabled in production
# 10. HSTS is enabled in production (365 days max-age)
# 11. Security headers are automatically applied
# 12. Rate limiting protects against brute force attacks
